<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;python&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://dashboard.scaleapi.com/signup'>Signup for Scale</a></li>
            <li><a href="https://scalesupport.herokuapp.com/">Join the Scale Support Slack channel!</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<blockquote>
<p>API Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.scaleapi.com/v1/
</code></pre>

<p>Welcome to the Scale API! You can use our API to access Scale API endpoints, which can create, access, and cancel human tasks.</p>

<p>Anyone can use our API! <a href="https://api.scaleapi.com/signup">Sign up here</a> to get started using Scale. You can also <a href="mailto:hello@scaleapi.com">contact us</a> for volume pricing or any inquiries.</p>

<p>You can also join our <a href="https://scalesupport.herokuapp.com/">Slack channel here</a>!</p>

<!-- We have language bindings in Shell, Ruby, and Python! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.
 -->

<h1 id="client-libraries-sdks">Client Libraries / SDKs</h1>

<p>We&rsquo;re working hard to build official client libraries as quickly as possible! We intend on releasing SDKs soon for the following languages:</p>

<ul>
<li>JavaScript</li>
<li>Python</li>
</ul>

<p>We also have unnoficial SDKs in the following languages:</p>

<ul>
<li><a href="https://github.com/wikiti/scaleapi-ruby">Ruby</a> (thanks to <a href="https://github.com/wikiti">wikiti</a>!)</li>
</ul>

<p><a href="mailto:hello@scaleapi.com">Let us know</a> if you want (or are interested in writing) a library for a language not represented here, or if youâ€™re eagerly waiting for us to get our JavaScript/Python SDKs out the door!</p>

<h1 id="authentication">Authentication</h1>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight shell"><code><span class="c"># With curl, you can just pass the correct header with each request</span>
curl <span class="s2">"api_endpoint_here"</span> <span class="se">\</span>
  -u <span class="s2">"YOUR_API_KEY:"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'api_endpoint_here'</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s">'YOUR_API_KEY'</span><span class="p">,</span> <span class="s">''</span><span class="p">))</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">SCALE_API_KEY</span> <span class="o">=</span> <span class="s1">'YOUR_API_KEY'</span><span class="p">;</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'api_endpoint_here'</span><span class="p">,</span> <span class="p">{</span>
  <span class="s1">'auth'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'user'</span><span class="p">:</span> <span class="nx">SCALE_API_KEY</span><span class="p">,</span>
    <span class="s1">'pass'</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'sendImmediately'</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">error</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>Make sure to replace <code class="prettyprint">YOUR_API_KEY</code> with your API key.</p>
</blockquote>

<p>Scale uses API keys to allow access to the API. You can register a new Scale API key on your dashboard (if you have access to Scale).</p>

<p>Scale expects for the API key to be included in all API requests to the server via <a href="http://en.wikipedia.org/wiki/Basic_access_authentication">HTTP Basic Auth</a>. Provide your API key as the basic auth username value. You do not need to provide a password. You can do this using the <code class="prettyprint">-u</code> flag:</p>

<p><code class="prettyprint">-u YOUR_API_KEY:</code></p>

<aside class="notice">
You must replace <code>YOUR_API_KEY</code> with your personal API key.
</aside>

<h3 id="callback-authentication">Callback Authentication</h3>

<p>If you&rsquo;d like to authenticate our callbacks, we set a <code class="prettyprint">scale-callback-auth</code> HTTP header on each of our callbacks. The value will be equal to your <code class="prettyprint">Live Callback Auth Key</code> shown on your dashboard. If this header is not set, or it is set incorrectly, the callback is not from Scale.</p>

<h1 id="task-object">Task Object</h1>

<p>The task object represents a single task that you create with Scale and is completed by a worker.</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"576ba74eec471ff9b01557cc"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-23T09:10:02.798Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-23T09:09:34.752Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.example.com/callback"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"categorization"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instruction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Would you say this item is big or small?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"urgency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"immediate"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"attachment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"attachment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"car"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"big"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"small"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"big"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">task_id</code></td>
<td>string</td>
<td>The <code class="prettyprint">task_id</code> is the unique identifier for the task.</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td>string</td>
<td>The type of the task. Currently, we support <code class="prettyprint">categorization</code>, <code class="prettyprint">transcription</code>, <code class="prettyprint">phonecall</code>, and <code class="prettyprint">comparison</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">instruction</code></td>
<td>string</td>
<td>A plaintext string explaining the instructions for the task.</td>
</tr>
<tr>
<td><code class="prettyprint">params</code></td>
<td>object</td>
<td>An object with the parameters of the task based on the type. For <code class="prettyprint">categorization</code>, for example, this will include <code class="prettyprint">attachment_type</code>, <code class="prettyprint">attachment</code>, and <code class="prettyprint">categories</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">urgency</code></td>
<td>string</td>
<td>A string describing the urgency of the response. One of <code class="prettyprint">immediate</code>, <code class="prettyprint">day</code>, or <code class="prettyprint">week</code>, where <code class="prettyprint">immediate</code> is a one-hour response time.</td>
</tr>
<tr>
<td><code class="prettyprint">response</code></td>
<td>object</td>
<td>An object corresponding to the response once the task is completed. For <code class="prettyprint">categorization</code>, it will have the attribute <code class="prettyprint">category</code>, corresponding to the chosen category.</td>
</tr>
<tr>
<td><code class="prettyprint">callback_url</code></td>
<td>string</td>
<td>A string of the URL that should be POSTed once the task is completed for the response data. See the Callback section for more details.</td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td>string</td>
<td>The status of the task, one of <code class="prettyprint">pending</code>, <code class="prettyprint">completed</code>, or <code class="prettyprint">canceled</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">created_at</code></td>
<td>timestamp</td>
<td>A string of the UTC timestamp of when the task was created.</td>
</tr>
<tr>
<td><code class="prettyprint">completed_at</code></td>
<td>timestamp</td>
<td>A string of the UTC timestamp of when the task was completed. This will only be filled in after it is completed.</td>
</tr>
</tbody></table>

<h1 id="create-categorization-task">Create Categorization Task</h1>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.scaleapi.com/v1/task/categorize"</span> <span class="se">\</span>
  -u YOUR_API_KEY: <span class="se">\</span>
  -d <span class="nv">callback_url</span><span class="o">=</span><span class="s2">"http://www.example.com/callback"</span> <span class="se">\</span>
  -d <span class="nv">instruction</span><span class="o">=</span><span class="s2">"Is this company public or private?"</span> <span class="se">\</span>
  -d <span class="nv">attachment_type</span><span class="o">=</span>website <span class="se">\</span>
  -d <span class="nv">attachment</span><span class="o">=</span><span class="s2">"http://www.google.com/"</span> <span class="se">\</span>
  -d <span class="nv">categories</span><span class="o">=</span>public <span class="se">\</span>
  -d <span class="nv">categories</span><span class="o">=</span>private
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'callback_url'</span><span class="p">:</span> <span class="s">'http://www.example.com/callback'</span><span class="p">,</span>
  <span class="s">'instruction'</span><span class="p">:</span> <span class="s">'Is this company public or private?'</span><span class="p">,</span>
  <span class="s">'attachment_type'</span><span class="p">:</span> <span class="s">'website'</span><span class="p">,</span>
  <span class="s">'attachment'</span><span class="p">:</span> <span class="s">'http://www.google.com/'</span><span class="p">,</span>
  <span class="s">'categories'</span><span class="p">:</span> <span class="p">[</span><span class="s">'public'</span><span class="p">,</span> <span class="s">'private'</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">"https://api.scaleapi.com/v1/task/categorize"</span><span class="p">,</span> 
  <span class="n">json</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> 
  <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s">'YOUR_API_KEY'</span><span class="p">,</span> <span class="s">''</span><span class="p">))</span>

</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">SCALE_API_KEY</span> <span class="o">=</span> <span class="s1">'YOUR_API_KEY'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'callback_url'</span><span class="p">:</span> <span class="s1">'http://www.example.com/callback'</span><span class="p">,</span>
  <span class="s1">'instruction'</span><span class="p">:</span> <span class="s1">'Is this company public or private?'</span><span class="p">,</span>
  <span class="s1">'attachment_type'</span><span class="p">:</span> <span class="s1">'website'</span><span class="p">,</span>
  <span class="s1">'attachment'</span><span class="p">:</span> <span class="s1">'http://www.google.com/'</span><span class="p">,</span>
  <span class="s1">'categories'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'public'</span><span class="p">,</span> <span class="s1">'private'</span><span class="p">]</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'https://api.scaleapi.com/v1/task/categorize'</span><span class="p">,</span> <span class="p">{</span>
  <span class="s1">'auth'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'user'</span><span class="p">:</span> <span class="nx">SCALE_API_KEY</span><span class="p">,</span>
    <span class="s1">'pass'</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'sendImmediately'</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">},</span>
  <span class="s1">'form'</span><span class="err">:</span> <span class="nx">payload</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">error</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"576ba74eec471ff9b01557cc"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-23T09:09:34.752Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.example.com/callback"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"categorization"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instruction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Is this company public or private?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"urgency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"attachment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"website"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"attachment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.google.com/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"public"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"private"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a <code class="prettyprint">categorization</code> task. In this task, one of our workers will view the attachment and choose a category for it according to the instruction. You may allow multiple categories to be chosen by setting <code class="prettyprint">allow_multiple</code> to <code class="prettyprint">true</code>. Example use cases are spam detection, copyright detection, product categorization, etc.</p>

<p>This task involves a plaintext <code class="prettyprint">instruction</code> about how to make the categorization, an <code class="prettyprint">attachment</code> of what you&rsquo;d like to categorize, an <code class="prettyprint">attachment_type</code>, and finally a list of <code class="prettyprint">categories</code>. </p>

<p>There is an optional <code class="prettyprint">category_ids</code> parameter, which you can use to impose an id system over the categories. The format of this parameter should be a dictionary, where the keys are the ids (as strings), and then the values are the category values provided in <code class="prettyprint">categories</code>. An example is:</p>

<p><code class="prettyprint">&quot;category_ids&quot;: {
  &quot;123&quot;: &quot;Blue Cross&quot;,
  &quot;124&quot;: &quot;Red Cross&quot;
}</code></p>

<p>If successful, Scale will immediately return the generated task object, of which you should at least store the <code class="prettyprint">task_id</code>.</p>

<p>The parameters <code class="prettyprint">attachment_type</code>, <code class="prettyprint">attachment</code>, <code class="prettyprint">categories</code>, and <code class="prettyprint">category_ids</code> (optional) will be stored in the <code class="prettyprint">params</code> object of the constructed <code class="prettyprint">task</code> object.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.scaleapi.com/v1/task/categorize</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">callback_url</code></td>
<td>string</td>
<td>The full url (including the scheme <code class="prettyprint">http://</code> or <code class="prettyprint">https://</code>) of the callback when the task is completed.</td>
</tr>
<tr>
<td><code class="prettyprint">instruction</code></td>
<td>string</td>
<td>The plaintext instruction of how to categorize the item.</td>
</tr>
<tr>
<td><code class="prettyprint">attachment_type</code></td>
<td>string</td>
<td>One of <code class="prettyprint">text</code>, <code class="prettyprint">image</code>, <code class="prettyprint">video</code>, <code class="prettyprint">audio</code>, <code class="prettyprint">website</code>, or <code class="prettyprint">pdf</code>. Describes what type of file the attachment is.</td>
</tr>
<tr>
<td><code class="prettyprint">attachment</code></td>
<td>string</td>
<td>The attachment to be categorized. If <code class="prettyprint">attachment_type</code> is <code class="prettyprint">text</code>, then it should be plaintext. Otherwise, it should be a URL pointing to the attachment.</td>
</tr>
<tr>
<td><code class="prettyprint">categories</code></td>
<td>[string]</td>
<td>An array of strings for the categories which you&rsquo;d like the object to be sorted between.</td>
</tr>
<tr>
<td><code class="prettyprint">urgency</code> (optional, default <code class="prettyprint">day</code>)</td>
<td>string</td>
<td>A string describing the urgency of the response. One of <code class="prettyprint">immediate</code>, <code class="prettyprint">day</code>, or <code class="prettyprint">week</code>, where <code class="prettyprint">immediate</code> is a one-hour response time.</td>
</tr>
<tr>
<td><code class="prettyprint">category_ids</code> (optional)</td>
<td>dictionary</td>
<td>An optional dictionary where the keys are the optional ids, and the values are the category values provided in <code class="prettyprint">categories</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">allow_multiple</code> (optional)</td>
<td>boolean</td>
<td>Default is <code class="prettyprint">false</code>. Determines whether you allow multiple categories to be chosen for the attachment</td>
</tr>
</tbody></table>

<h3 id="response-on-callback">Response on Callback</h3>

<p>The <code class="prettyprint">response</code> object will be of the form:</p>

<p><code class="prettyprint">
{
  &quot;category&quot;: ...
}</code></p>

<p>If <code class="prettyprint">allow_multiple</code> is <code class="prettyprint">false</code>, then the value will be a string equal to one of the original categories. </p>

<p>If <code class="prettyprint">allow_multiple</code> is <code class="prettyprint">true</code>, the value will be an array of categories, each one being one of the original categories.</p>

<p>If <code class="prettyprint">category_ids</code> was provided, there will be another field <code class="prettyprint">category_id</code> corresponding to the given id of the chosen category/categories. For example, it could look like:</p>

<p><code class="prettyprint">{
  &quot;category&quot;: &quot;Blue Cross&quot;, &quot;category_id&quot;: &quot;123&quot;
}</code></p>

<h1 id="create-transcription-task">Create Transcription Task</h1>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.scaleapi.com/v1/task/transcription"</span> <span class="se">\</span>
  -u YOUR_API_KEY: <span class="se">\</span>
  -d <span class="nv">callback_url</span><span class="o">=</span><span class="s2">"http://www.example.com/callback"</span> <span class="se">\</span>
  -d <span class="nv">instruction</span><span class="o">=</span><span class="s2">"Transcribe the given fields. Then for each news item on the page, transcribe the information for the row."</span> <span class="se">\</span>
  -d <span class="nv">attachment_type</span><span class="o">=</span>website <span class="se">\</span>
  -d <span class="nv">attachment</span><span class="o">=</span><span class="s2">"http://www.google.com/"</span> <span class="se">\</span>
  -d fields[title]<span class="o">=</span><span class="s2">"Title of Webpage"</span> <span class="se">\</span>
  -d fields[top_result]<span class="o">=</span><span class="s2">"Title of the top result"</span> <span class="se">\</span>
  -d row_fields[username]<span class="o">=</span><span class="s2">"Username of submitter"</span> <span class="se">\</span>
  -d row_fields[comment_count]<span class="o">=</span><span class="s2">"Number of comments"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'callback_url'</span><span class="p">:</span> <span class="s">'http://www.example.com/callback'</span><span class="p">,</span>
  <span class="s">'instruction'</span><span class="p">:</span> <span class="s">'Transcribe the given fields. Then for each news item on the page, transcribe the information for the row.'</span><span class="p">,</span>
  <span class="s">'attachment_type'</span><span class="p">:</span> <span class="s">'website'</span><span class="p">,</span>
  <span class="s">'attachment'</span><span class="p">:</span> <span class="s">'http://www.google.com/'</span><span class="p">,</span>
  <span class="s">'fields'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'title'</span><span class="p">:</span> <span class="s">'Title of Webpage'</span><span class="p">,</span>
    <span class="s">'top_result'</span><span class="p">:</span> <span class="s">'Title of the top result'</span>
  <span class="p">},</span>
  <span class="s">'row_fields'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'username'</span><span class="p">:</span> <span class="s">'Username of submitter'</span><span class="p">,</span>
    <span class="s">'comment_count'</span><span class="p">:</span> <span class="s">'Number of comments'</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">}</span>

<span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">"https://api.scaleapi.com/v1/task/transcription"</span><span class="p">,</span> 
  <span class="n">json</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> 
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
  <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s">'YOUR_API_KEY'</span><span class="p">,</span> <span class="s">''</span><span class="p">))</span>

</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">SCALE_API_KEY</span> <span class="o">=</span> <span class="s1">'YOUR_API_KEY'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'callback_url'</span><span class="p">:</span> <span class="s1">'http://www.example.com/callback'</span><span class="p">,</span>
  <span class="s1">'instruction'</span><span class="p">:</span> <span class="s1">'Transcribe the given fields. Then for each news item on the page, transcribe the information for the row.'</span><span class="p">,</span>
  <span class="s1">'attachment_type'</span><span class="p">:</span> <span class="s1">'website'</span><span class="p">,</span>
  <span class="s1">'attachment'</span><span class="p">:</span> <span class="s1">'http://www.google.com/'</span><span class="p">,</span>
  <span class="s1">'fields'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Title of Webpage'</span><span class="p">,</span>
    <span class="s1">'top_result'</span><span class="p">:</span> <span class="s1">'Title of the top result'</span>
  <span class="p">},</span>
  <span class="s1">'row_fields'</span><span class="err">:</span> <span class="p">{</span>
    <span class="s1">'username'</span><span class="err">:</span> <span class="s1">'Username of submitter'</span><span class="p">,</span>
    <span class="s1">'comment_count'</span><span class="err">:</span> <span class="s1">'Number of comments'</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'https://api.scaleapi.com/v1/task/transcription'</span><span class="p">,</span> <span class="p">{</span>
  <span class="s1">'auth'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'user'</span><span class="p">:</span> <span class="nx">SCALE_API_KEY</span><span class="p">,</span>
    <span class="s1">'pass'</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'sendImmediately'</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">},</span>
  <span class="s1">'form'</span><span class="err">:</span> <span class="nx">payload</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">error</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-25T02:18:04.248Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.example.com/callback"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transcription"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instruction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transcribe the given fields. Then for each news item on the page, transcribe the information for the row."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"urgency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"row_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Username of submitter"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"comment_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Number of comments"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Title of Webpage"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"top_result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Title of the top result"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"attachment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.google.com/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"attachment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"website"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"576de9dc1ea5f917d56fc2a0"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a <code class="prettyprint">transcription</code> task. In this task, one of our workers will read an attachment and arbitrarily transcribe any information you&rsquo;d like. Example use cases could be transcribing information from PDFs, manually scraping a web page for information, etc.</p>

<p>This task involves a plaintext <code class="prettyprint">instruction</code> about how to transcribe the attachment, an <code class="prettyprint">attachment</code> of what you&rsquo;d like to transcribe, an <code class="prettyprint">attachment_type</code>, and at least one of <code class="prettyprint">fields</code> and <code class="prettyprint">row_fields</code>. <code class="prettyprint">fields</code> is a dictionary which describes items you&rsquo;d like transcribed once per attachment, and <code class="prettyprint">row_fields</code> is a dictionary which describes items which need to be transcribed per row in the attachment.</p>

<p>At least one of <code class="prettyprint">fields</code> or <code class="prettyprint">row_fields</code> is required. Both <code class="prettyprint">fields</code> and <code class="prettyprint">row_fields</code> are dictionaries where the keys are the keys you&rsquo;d like the results to be returned under, and values are the descriptions you&rsquo;d like to show the human worker.</p>

<p>If successful, Scale will immediately return the generated task object, of which you should at least store the <code class="prettyprint">task_id</code>.</p>

<p>The parameters <code class="prettyprint">attachment_type</code>, <code class="prettyprint">attachment</code>, <code class="prettyprint">fields</code>, and <code class="prettyprint">row_fields</code> will be stored in the <code class="prettyprint">params</code> object of the constructed <code class="prettyprint">task</code> object.</p>

<aside class="notice">
We limit the number of rows you may transcribe per API request to 10 rows. If you need more rows, send multiple API requests.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.scaleapi.com/v1/task/transcription</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">callback_url</code></td>
<td>string</td>
<td>The full url (including the scheme <code class="prettyprint">http://</code> or <code class="prettyprint">https://</code>) of the callback when the task is completed.</td>
</tr>
<tr>
<td><code class="prettyprint">instruction</code></td>
<td>string</td>
<td>The plaintext instruction of how to transcribe the attachment.</td>
</tr>
<tr>
<td><code class="prettyprint">attachment_type</code></td>
<td>string</td>
<td>One of <code class="prettyprint">text</code>, <code class="prettyprint">image</code>, <code class="prettyprint">video</code>, <code class="prettyprint">audio</code>, <code class="prettyprint">website</code>, or <code class="prettyprint">pdf</code>. Describes what type of file the attachment is.</td>
</tr>
<tr>
<td><code class="prettyprint">attachment</code></td>
<td>string</td>
<td>The attachment to be transcribed. If <code class="prettyprint">attachment_type</code> is <code class="prettyprint">text</code>, then it should be plaintext. Otherwise, it should be a URL pointing to the attachment.</td>
</tr>
<tr>
<td><code class="prettyprint">fields</code> (optional if using <code class="prettyprint">row_fields</code>)</td>
<td>dictionary</td>
<td>A dictionary corresponding to the fields to be transcribed. Keys are the keys you&rsquo;d like the fields to be returned under, and values are descriptions to be shown to human workers.</td>
</tr>
<tr>
<td><code class="prettyprint">row_fields</code> (optional if using <code class="prettyprint">fields</code>)</td>
<td>dictionary</td>
<td>If your transcription requires a transcription of a variable number of row items, then this dictionary describes the fields for these rows. The format is the same as <code class="prettyprint">fields</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">urgency</code> (optional, default <code class="prettyprint">day</code>)</td>
<td>string</td>
<td>A string describing the urgency of the response. One of <code class="prettyprint">immediate</code>, <code class="prettyprint">day</code>, or <code class="prettyprint">week</code>, where <code class="prettyprint">immediate</code> is a one-hour response time.</td>
</tr>
</tbody></table>

<h3 id="response-on-callback">Response on Callback</h3>

<p>The <code class="prettyprint">response</code> object will be of the form:</p>

<p><code class="prettyprint">
{
  &quot;fields&quot;: {
    ...
  },
  &quot;rows&quot;: [{
    ...
  },
  {
    ...
  }]
}</code></p>

<p><code class="prettyprint">fields</code> will have keys corresponding to the keys you provided in the parameters, with values the transcribed value. <code class="prettyprint">rows</code> will be an array of such dictionaries, with keys corresponding to the keys you provided in the parameters, and values corresponding to the transcribed value.</p>

<h1 id="create-phone-call-task">Create Phone Call Task</h1>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.scaleapi.com/v1/task/phonecall"</span> <span class="se">\</span>
  -u YOUR_API_KEY: <span class="se">\</span>
  -d <span class="nv">callback_url</span><span class="o">=</span><span class="s2">"http://www.example.com/callback"</span> <span class="se">\</span>
  -d <span class="nv">instruction</span><span class="o">=</span><span class="s2">"Call this person and tell me his email address. Ask if he's happy too."</span> <span class="se">\</span>
  -d <span class="nv">phone_number</span><span class="o">=</span>5055006865 <span class="se">\</span>
  -d <span class="nv">entity_name</span><span class="o">=</span><span class="s2">"Alexandr Wang"</span> <span class="se">\</span>
  -d fields[email]<span class="o">=</span><span class="s2">"Email Address"</span> <span class="se">\</span>
  -d <span class="nv">choices</span><span class="o">=</span><span class="s2">"He is happy"</span> <span class="se">\</span>
  -d <span class="nv">choices</span><span class="o">=</span><span class="s2">"He is not happy"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'callback_url'</span><span class="p">:</span> <span class="s">'http://www.example.com/callback'</span><span class="p">,</span>
  <span class="s">'instruction'</span><span class="p">:</span> <span class="s">'Call this person and tell me his email address'</span><span class="p">,</span>
  <span class="s">'phone_number'</span><span class="p">:</span> <span class="s">'5055006865'</span><span class="p">,</span>
  <span class="s">'entity_name'</span><span class="p">:</span> <span class="s">'Alexandr Wang'</span><span class="p">,</span>
  <span class="s">'fields'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'email'</span><span class="p">:</span> <span class="s">'Email Address'</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="s">'choices'</span><span class="p">:</span> <span class="p">[</span><span class="s">'He is happy'</span><span class="p">,</span> <span class="s">'He is not happy'</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">}</span>

<span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">"https://api.scaleapi.com/v1/task/phonecall"</span><span class="p">,</span> 
  <span class="n">json</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> 
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
  <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s">'YOUR_API_KEY'</span><span class="p">,</span> <span class="s">''</span><span class="p">))</span>

</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">SCALE_API_KEY</span> <span class="o">=</span> <span class="s1">'YOUR_API_KEY'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'callback_url'</span><span class="p">:</span> <span class="s1">'http://www.example.com/callback'</span><span class="p">,</span>
  <span class="s1">'instruction'</span><span class="p">:</span> <span class="s1">'Call this person and tell me his email address'</span><span class="p">,</span>
  <span class="s1">'phone_number'</span><span class="p">:</span> <span class="s1">'5055006865'</span><span class="p">,</span>
  <span class="s1">'entity_name'</span><span class="p">:</span> <span class="s1">'Alexandr Wang'</span><span class="p">,</span>
  <span class="s1">'fields'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'email'</span><span class="p">:</span> <span class="s1">'Email Address'</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="s1">'choices'</span><span class="err">:</span> <span class="p">[</span><span class="s1">'He is happy'</span><span class="p">,</span> <span class="s1">'He is not happy'</span><span class="p">]</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'https://api.scaleapi.com/v1/task/phonecall'</span><span class="p">,</span> <span class="p">{</span>
  <span class="s1">'auth'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'user'</span><span class="p">:</span> <span class="nx">SCALE_API_KEY</span><span class="p">,</span>
    <span class="s1">'pass'</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'sendImmediately'</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">},</span>
  <span class="s1">'form'</span><span class="err">:</span> <span class="nx">payload</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">error</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-27T23:53:10.367Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.example.com/callback"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phonecall"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instruction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Call this person and tell me his email address"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"urgency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Email Address"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"choices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"He is happy"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"He is not happy"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"entity_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexandr Wang"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5055006865"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5771bc6631b72659f0d3692b"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a <code class="prettyprint">phonecall</code> task. In this task, one of our workers will call the specified phone number and follow the instructions. Potential use cases could be making reservations or appointments, confirming reservations, asking for contact numbers or emails, etc.</p>

<p>The required parameters are a plaintext <code class="prettyprint">instruction</code> about how to transcribe the attachment, a <code class="prettyprint">phone_number</code> for the phone number to call, and an <code class="prettyprint">entity_name</code> which describes the phone number.</p>

<p>The optional parameters are <code class="prettyprint">attachment_type</code> and <code class="prettyprint">attachment</code> for an optional attachment, a plaintext string <code class="prettyprint">script</code> for an optional script for the worker to follow, <code class="prettyprint">fields</code>, and <code class="prettyprint">choices</code>.</p>

<p>There are two potential ways to record more information from the phonecall - the <code class="prettyprint">field</code> and <code class="prettyprint">choices</code> parameters. <code class="prettyprint">choices</code> is an array of strings from which the worker to choose, and <code class="prettyprint">fields</code> is useful for free-text response.</p>

<p>If successful, Scale will immediately return the generated task object, of which you should at least store the <code class="prettyprint">task_id</code>.</p>

<p>The parameters <code class="prettyprint">phone_number</code>, <code class="prettyprint">entity_name</code>, <code class="prettyprint">script</code>, <code class="prettyprint">attachment_type</code>, <code class="prettyprint">attachment</code>, and <code class="prettyprint">fields</code> will be stored in the <code class="prettyprint">params</code> object of the constructed <code class="prettyprint">task</code> object.</p>

<aside class="notice">
For low volume, we currently only support calling US numbers. For higher volume international calls, please <a href="mailto:hello@scaleapi.com">contact us</a>!
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.scaleapi.com/v1/task/phonecall</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">callback_url</code></td>
<td>string</td>
<td>The full url (including the scheme <code class="prettyprint">http://</code> or <code class="prettyprint">https://</code>) of the callback when the task is completed.</td>
</tr>
<tr>
<td><code class="prettyprint">instruction</code></td>
<td>string</td>
<td>The plaintext instruction of how to make the phone call.</td>
</tr>
<tr>
<td><code class="prettyprint">phone_number</code></td>
<td>string</td>
<td>The phone number which will be called by our worker. Should include a country code (+1 for US numbers).</td>
</tr>
<tr>
<td><code class="prettyprint">script</code> (optional)</td>
<td>string</td>
<td>An optional script to be shown the the worker as they make the phone call. You should use this if you&rsquo;ve already optimized a script for phone calling.</td>
</tr>
<tr>
<td><code class="prettyprint">entity_name</code></td>
<td>name</td>
<td>The name of the entity which corresponds to the person or business of the phone number.</td>
</tr>
<tr>
<td><code class="prettyprint">urgency</code> (optional, default <code class="prettyprint">day</code>)</td>
<td>string</td>
<td>A string describing the urgency of the response. One of <code class="prettyprint">immediate</code>, <code class="prettyprint">day</code>, or <code class="prettyprint">week</code>, where <code class="prettyprint">immediate</code> is a one-hour response time.</td>
</tr>
<tr>
<td><code class="prettyprint">attachment_type</code> (optional)</td>
<td>string</td>
<td>One of <code class="prettyprint">text</code>, <code class="prettyprint">image</code>, <code class="prettyprint">video</code>, <code class="prettyprint">audio</code>, <code class="prettyprint">website</code>, or <code class="prettyprint">pdf</code>. Describes what type of file the attachment is.</td>
</tr>
<tr>
<td><code class="prettyprint">attachment</code> (optional)</td>
<td>string</td>
<td>The optional attachment to be used for the phone call. If <code class="prettyprint">attachment_type</code> is <code class="prettyprint">text</code>, then it should be plaintext. Otherwise, it should be a URL pointing to the attachment.</td>
</tr>
<tr>
<td><code class="prettyprint">fields</code> (optional)</td>
<td>dictionary</td>
<td>A dictionary corresponding to the fields to be recorded. Keys are the keys you&rsquo;d like the fields to be returned under, and values are descriptions to be shown to human workers.</td>
</tr>
<tr>
<td><code class="prettyprint">choices</code> (optional)</td>
<td>[string]</td>
<td>An array of strings for the choices to be given to the worker. They will choose one of these in accordance with your <code class="prettyprint">instruction</code>.</td>
</tr>
</tbody></table>

<h3 id="response-on-callback">Response on Callback</h3>

<p>The <code class="prettyprint">response</code> object will be of the form:</p>

<p><code class="prettyprint">
{
  &quot;outcome&quot;: ...,
  &quot;fields&quot;: {
    ...
  },
  &quot;choice&quot;: &quot;some_choice&quot;
}</code></p>

<p>The outcome will be a string equal to one of <code class="prettyprint">no_pickup</code> (meaning nobody picked up), <code class="prettyprint">hung_up</code> (meaning the recipient hung up before the task could be completed), or <code class="prettyprint">success</code> (the call succeeded). </p>

<p>If your original API request provided <code class="prettyprint">fields</code>, <code class="prettyprint">fields</code> will have keys corresponding to the keys you provided in the parameters, with values the transcribed value.</p>

<p>If your original API request provided <code class="prettyprint">choices</code>, <code class="prettyprint">choice</code> will be one of the original choices.</p>

<h1 id="create-comparison-task">Create Comparison Task</h1>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.scaleapi.com/v1/task/comparison"</span> <span class="se">\</span>
  -u YOUR_API_KEY: <span class="se">\</span>
  -d <span class="nv">callback_url</span><span class="o">=</span><span class="s2">"http://www.example.com/callback"</span> <span class="se">\</span>
  -d <span class="nv">instruction</span><span class="o">=</span><span class="s2">"Do the objects in these images have the same pattern?"</span> <span class="se">\</span>
  -d <span class="nv">attachment_type</span><span class="o">=</span>image <span class="se">\</span>
  -d <span class="nv">attachments</span><span class="o">=</span><span class="s2">"http://i.ebayimg.com/00/</span><span class="nv">$T2eC16dHJGwFFZKjy5ZjBRfNyMC4Ig</span><span class="s2">~~_32.JPG"</span> <span class="se">\</span>
  -d <span class="nv">attachments</span><span class="o">=</span><span class="s2">"http://images.wisegeek.com/checkered-tablecloth.jpg"</span> <span class="se">\</span>
  -d <span class="nv">choices</span><span class="o">=</span><span class="s2">"yes"</span> <span class="se">\</span>
  -d <span class="nv">choices</span><span class="o">=</span><span class="s2">"no"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'callback_url'</span><span class="p">:</span> <span class="s">'http://www.example.com/callback'</span><span class="p">,</span>
  <span class="s">'instruction'</span><span class="p">:</span> <span class="s">'Do the objects in these images have the same pattern?'</span><span class="p">,</span>
  <span class="s">'attachment_type'</span><span class="p">:</span> <span class="s">'image'</span><span class="p">,</span>
  <span class="s">'attachments'</span><span class="p">:</span> <span class="p">[</span>
    <span class="s">'http://i.ebayimg.com/00/$T2eC16dHJGwFFZKjy5ZjBRfNyMC4Ig~~_32.JPG'</span><span class="p">,</span>
    <span class="s">'http://images.wisegeek.com/checkered-tablecloth.jpg'</span>
  <span class="p">],</span>
  <span class="s">'choices'</span><span class="p">:</span> <span class="p">[</span><span class="s">'yes'</span><span class="p">,</span> <span class="s">'no'</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">}</span>

<span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">"https://api.scaleapi.com/v1/task/comparison"</span><span class="p">,</span> 
  <span class="n">json</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> 
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
  <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s">'YOUR_API_KEY'</span><span class="p">,</span> <span class="s">''</span><span class="p">))</span>

</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">SCALE_API_KEY</span> <span class="o">=</span> <span class="s1">'YOUR_API_KEY'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'callback_url'</span><span class="p">:</span> <span class="s1">'http://www.example.com/callback'</span><span class="p">,</span>
  <span class="s1">'instruction'</span><span class="p">:</span> <span class="s1">'Do the objects in these images have the same pattern?'</span><span class="p">,</span>
  <span class="s1">'attachment_type'</span><span class="p">:</span> <span class="s1">'image'</span><span class="p">,</span>
  <span class="s1">'attachments'</span><span class="p">:</span> <span class="p">[</span>
    <span class="s1">'http://i.ebayimg.com/00/$T2eC16dHJGwFFZKjy5ZjBRfNyMC4Ig~~_32.JPG'</span><span class="p">,</span>
    <span class="s1">'http://images.wisegeek.com/checkered-tablecloth.jpg'</span>
  <span class="p">],</span>
  <span class="s1">'choices'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'yes'</span><span class="p">,</span> <span class="s1">'no'</span><span class="p">]</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'https://api.scaleapi.com/v1/task/comparison'</span><span class="p">,</span> <span class="p">{</span>
  <span class="s1">'auth'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'user'</span><span class="p">:</span> <span class="nx">SCALE_API_KEY</span><span class="p">,</span>
    <span class="s1">'pass'</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'sendImmediately'</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">},</span>
  <span class="s1">'form'</span><span class="err">:</span> <span class="nx">payload</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">error</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-30T07:38:32.368Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.example.com/callback"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comparison"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instruction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Do the objects in these images have the same pattern?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"urgency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"choices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"yes"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"no"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"attachment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"attachments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"http://i.ebayimg.com/00/$T2eC16dHJGwFFZKjy5ZjBRfNyMC4Ig~~_32.JPG"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"http://images.wisegeek.com/checkered-tablecloth.jpg"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5774cc78b02487c424f089dd"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a <code class="prettyprint">comparison</code> task. In this task, one of our workers view the given attachments and do any comparison requested.</p>

<p>This task involves a plaintext <code class="prettyprint">instruction</code>, an array of <code class="prettyprint">attachments</code>, and an <code class="prettyprint">attachment_type</code>.</p>

<p>At least of the <code class="prettyprint">fields</code> or <code class="prettyprint">choices</code> parameters must specified for the data to be returned. <code class="prettyprint">choices</code> is an array of strings from which the worker to choose, and <code class="prettyprint">fields</code> is useful for free-text response. </p>

<p><code class="prettyprint">fields</code> is a dictionary where the keys are the keys you&rsquo;d like the results to be returned under, and values are the descriptions you&rsquo;d like to show the human worker.</p>

<p>If successful, Scale will immediately return the generated task object, of which you should store the <code class="prettyprint">task_id</code>.</p>

<p>The parameters <code class="prettyprint">attachment_type</code>, <code class="prettyprint">attachments</code>, <code class="prettyprint">choices</code>, and <code class="prettyprint">fields</code> will be stored in the <code class="prettyprint">params</code> object of the constructed <code class="prettyprint">task</code> object.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.scaleapi.com/v1/task/comparison</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">callback_url</code></td>
<td>string</td>
<td>The full url (including the scheme <code class="prettyprint">http://</code> or <code class="prettyprint">https://</code>) of the callback when the task is completed.</td>
</tr>
<tr>
<td><code class="prettyprint">instruction</code></td>
<td>string</td>
<td>The plaintext instruction of how to compare the attachments.</td>
</tr>
<tr>
<td><code class="prettyprint">attachment_type</code></td>
<td>string</td>
<td>One of <code class="prettyprint">text</code>, <code class="prettyprint">image</code>, <code class="prettyprint">video</code>, <code class="prettyprint">audio</code>, <code class="prettyprint">website</code>, or <code class="prettyprint">pdf</code>. Describes what type of file the attachments are.</td>
</tr>
<tr>
<td><code class="prettyprint">attachments</code></td>
<td>array</td>
<td>An array of attachments to compare. If <code class="prettyprint">attachment_type</code> is <code class="prettyprint">text</code>, then each attachment should be plaintext. Otherwise, they should be URLs pointing to the attachments.</td>
</tr>
<tr>
<td><code class="prettyprint">urgency</code> (optional, default <code class="prettyprint">day</code>)</td>
<td>string</td>
<td>A string describing the urgency of the response. One of <code class="prettyprint">immediate</code>, <code class="prettyprint">day</code>, or <code class="prettyprint">week</code>, where <code class="prettyprint">immediate</code> is a one hour response time.</td>
</tr>
<tr>
<td><code class="prettyprint">fields</code> (optional)</td>
<td>dictionary</td>
<td>A dictionary corresponding to the fields to be recorded. Keys are the keys you&rsquo;d like the fields to be returned under, and values are descriptions to be shown to human workers.</td>
</tr>
<tr>
<td><code class="prettyprint">choices</code> (optional)</td>
<td>[string]</td>
<td>An array of strings for the choices to be given to the worker. One of <code class="prettyprint">choices</code> or <code class="prettyprint">fields</code> must be specified.</td>
</tr>
</tbody></table>

<h3 id="response-on-callback">Response on Callback</h3>

<p>The <code class="prettyprint">response</code> object will be of the form:</p>

<p><code class="prettyprint">
{
  &quot;choice&quot;: &quot;some_choice&quot;,
  &quot;fields&quot;: {
    ...
  }
}</code></p>

<p>If your original call provided <code class="prettyprint">choices</code>, <code class="prettyprint">choice</code> will be one of the original choices.</p>

<p>If your original call provided <code class="prettyprint">fields</code>, <code class="prettyprint">fields</code> will have keys corresponding to the keys you provided in the parameters, with values the transcribed value.</p>

<h1 id="create-annotation-task-bounding-box">Create Annotation Task (Bounding Box)</h1>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.scaleapi.com/v1/task/annotation"</span> <span class="se">\</span>
  -u YOUR_API_KEY: <span class="se">\</span>
  -d <span class="nv">callback_url</span><span class="o">=</span><span class="s2">"http://www.example.com/callback"</span> <span class="se">\</span>
  -d <span class="nv">instruction</span><span class="o">=</span><span class="s2">"Draw a box around each baby cow and big cow."</span> <span class="se">\</span>
  -d <span class="nv">attachment_type</span><span class="o">=</span>image <span class="se">\</span>
  -d <span class="nv">attachment</span><span class="o">=</span><span class="s2">"http://i.imgur.com/v4cBreD.jpg"</span> <span class="se">\</span>
  -d <span class="nv">objects_to_annotate</span><span class="o">=</span><span class="s2">"baby cow"</span> <span class="se">\</span>
  -d <span class="nv">objects_to_annotate</span><span class="o">=</span><span class="s2">"big cow"</span> <span class="se">\</span>
  -d <span class="nv">with_labels</span><span class="o">=</span><span class="nb">true</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'callback_url'</span><span class="p">:</span> <span class="s">'http://www.example.com/callback'</span><span class="p">,</span>
  <span class="s">'instruction'</span><span class="p">:</span> <span class="s">'Draw a box around each baby cow and big cow.'</span><span class="p">,</span>
  <span class="s">'attachment_type'</span><span class="p">:</span> <span class="s">'image'</span><span class="p">,</span>
  <span class="s">'attachment'</span><span class="p">:</span> <span class="s">'http://i.imgur.com/v4cBreD.jpg'</span><span class="p">,</span>
  <span class="s">'objects_to_annotate'</span><span class="p">:</span> <span class="p">[</span><span class="s">'baby cow'</span><span class="p">,</span> <span class="s">'big cow'</span><span class="p">],</span>
  <span class="s">'with_labels'</span><span class="p">:</span> <span class="bp">True</span>
<span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">}</span>

<span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">"https://api.scaleapi.com/v1/task/annotation"</span><span class="p">,</span> 
  <span class="n">json</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> 
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
  <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s">'YOUR_API_KEY'</span><span class="p">,</span> <span class="s">''</span><span class="p">))</span>

</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">SCALE_API_KEY</span> <span class="o">=</span> <span class="s1">'YOUR_API_KEY'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'callback_url'</span><span class="p">:</span> <span class="s1">'http://www.example.com/callback'</span><span class="p">,</span>
  <span class="s1">'instruction'</span><span class="p">:</span> <span class="s1">'Draw a box around each baby cow and big cow.'</span><span class="p">,</span>
  <span class="s1">'attachment_type'</span><span class="p">:</span> <span class="s1">'image'</span><span class="p">,</span>
  <span class="s1">'attachment'</span><span class="p">:</span> <span class="s1">'http://i.imgur.com/v4cBreD.jpg'</span><span class="p">,</span>
  <span class="s1">'objects_to_annotate'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'baby cow'</span><span class="p">,</span> <span class="s1">'big cow'</span><span class="p">],</span>
  <span class="s1">'with_labels'</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'https://api.scaleapi.com/v1/task/annotation'</span><span class="p">,</span> <span class="p">{</span>
  <span class="s1">'auth'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'user'</span><span class="p">:</span> <span class="nx">SCALE_API_KEY</span><span class="p">,</span>
    <span class="s1">'pass'</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'sendImmediately'</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">},</span>
  <span class="s1">'form'</span><span class="err">:</span> <span class="nx">payload</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">error</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-9-03T07:38:32.368Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.example.com/callback"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"annotation"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instruction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Draw a box around each baby cow and big cow."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"urgency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"attachment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"attachment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://i.imgur.com/v4cBreD.jpg"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"objects_to_annotate"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"baby cow"</span><span class="p">,</span><span class="w"> </span><span class="s2">"big cow"</span><span class="p">],</span><span class="w">
    </span><span class="nt">"with_labels"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5774cc78b01249ab09f089dd"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a <code class="prettyprint">annotation</code> task. In this task, one of our Scalers view the given image and draw bounding boxes around the specified objects, returning the positions and sizes of these boxes.</p>

<p>The required parameters for this task are <code class="prettyprint">callback_url</code>, <code class="prettyprint">attachment</code>, and <code class="prettyprint">objects_to_annotate</code>. The <code class="prettyprint">callback_url</code> is the URL which will be POSTed on task completion, and is described in more detail in the <a href="#callbacks">Callbacks section</a>. The <code class="prettyprint">attachment</code> is a URL to an image you&rsquo;d like to be annotated.</p>

<p><code class="prettyprint">objects_to_annotate</code> is an array of strings describing the different types of objects you&rsquo;d like annotated.</p>

<p>You can optionally provide additional plaintext instructions via the <code class="prettyprint">instruction</code> parameter. </p>

<p>You can also optionally set <code class="prettyprint">with_labels</code> to <code class="prettyprint">true</code>, which will have Scalers provide labels for each box specifying what type of object it is. The labels will be strings in the <code class="prettyprint">objects_to_annotate</code> list.</p>

<p>If successful, Scale will immediately return the generated task object, of which you should at least store the <code class="prettyprint">task_id</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.scaleapi.com/v1/task/annotation</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">callback_url</code></td>
<td>string</td>
<td>The full url (including the scheme <code class="prettyprint">http://</code> or <code class="prettyprint">https://</code>) of the callback when the task is completed.</td>
</tr>
<tr>
<td><code class="prettyprint">objects_to_annotate</code></td>
<td>[string]</td>
<td>An array of strings describing which objects you&rsquo;d like bounding boxes to be drawn around. Each string should be singular and self-descriptive (ex: &ldquo;cat&rdquo;, &ldquo;street sign&rdquo;, &ldquo;potato&rdquo;)</td>
</tr>
<tr>
<td><code class="prettyprint">attachment</code></td>
<td>string</td>
<td>A URL to the image you&rsquo;d like to be annotated with bounding boxes.</td>
</tr>
<tr>
<td><code class="prettyprint">with_labels</code> (optional, default <code class="prettyprint">false</code>)</td>
<td>boolean</td>
<td>Specifies whether you&rsquo;d like labels for each bounding box in the response. Each label will be a member of the <code class="prettyprint">objects_to_annotate</code> array.</td>
</tr>
<tr>
<td><code class="prettyprint">urgency</code> (optional, default <code class="prettyprint">day</code>)</td>
<td>string</td>
<td>A string describing the urgency of the response. One of <code class="prettyprint">immediate</code>, <code class="prettyprint">day</code>, or <code class="prettyprint">week</code>, where <code class="prettyprint">immediate</code> is a one-hour response time.</td>
</tr>
<tr>
<td><code class="prettyprint">instruction</code> (optional)</td>
<td>string</td>
<td>The plaintext instruction of how the bounding boxes should be drawn.</td>
</tr>
<tr>
<td><code class="prettyprint">attachment_type</code> (optional, default <code class="prettyprint">image</code>)</td>
<td>string</td>
<td>Describes what type of file the attachment is. We currently only support <code class="prettyprint">image</code> for the annotation endpoint.</td>
</tr>
</tbody></table>

<h3 id="response-on-callback">Response on Callback</h3>

<blockquote>
<p>Example of what the response field of the task will look like after completion</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"left"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="nt">"top"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nt">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">121</span><span class="p">,</span><span class="w">
        </span><span class="nt">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">39</span><span class="p">,</span><span class="w">
        </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"big cow"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"left"</span><span class="p">:</span><span class="w"> </span><span class="mi">82</span><span class="p">,</span><span class="w">
        </span><span class="nt">"top"</span><span class="p">:</span><span class="w"> </span><span class="mi">56</span><span class="p">,</span><span class="w">
        </span><span class="nt">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w">
        </span><span class="nt">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"baby cow"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5774cc78b01249ab09f089dd"</span><span class="p">,</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<p>The <code class="prettyprint">response</code> field, which is part of the callback POST request and permanently stored as part of the <code class="prettyprint">task</code> object, will contain only an <code class="prettyprint">annotations</code> field.</p>

<p>The <code class="prettyprint">annotations</code> field will contain an array of annotations. Each annotation will have the following values:</p>

<ul>
<li><code class="prettyprint">left</code>: The distance, in pixels, between the left border of the bounding box and the left border of the image.</li>
<li><code class="prettyprint">top</code>: The distance, in pixels, between the top border of the bounding box and the top border of the image.</li>
<li><code class="prettyprint">width</code>: The width, in pixels, of the bounding box.</li>
<li><code class="prettyprint">height</code>: The height, in pixels, of the bounding box.</li>
<li><code class="prettyprint">label</code> (if specified <code class="prettyprint">with_labels</code> as <code class="prettyprint">true</code>): The label for the bounding box, which will be one of the specified <code class="prettyprint">task.params.objects_to_annotate</code>.</li>
</ul>

<h1 id="callbacks">Callbacks</h1>

<blockquote>
<p>The <code class="prettyprint">callback_url</code> will be POSTed with <code class="prettyprint">application/json</code> data of the following object form:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"task"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-23T21:54:44.904Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"big"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-23T20:08:31.573Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.example.com/callback"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"categorization"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"instruction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Is this object red or blue?"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"urgency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"attachment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attachment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tomato"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"red"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"blue"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"576c41bf13e36b0600b02b34"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"576c41bf13e36b0600b02b34"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>On your tasks, you will be required to supply a <code class="prettyprint">callback_url</code>, a fully qualified URL that we will POST with the results of the task when completed. The data will be served as a JSON body (<code class="prettyprint">application/json</code>). Alternately,
you can set a default callback URL in your profile, which will be used for tasks that do not specify one.</p>

<p>You should respond to the POST request with a 200 status code. If we do not receive a 200 status code, we will retry one more time.</p>

<p>If you&rsquo;re just testing and want to try a few requests, the easiest way to get started is to use a <a href="http://requestb.in/">RequestBin</a> and send requests using your <code class="prettyprint">http://requestb.in/someHash</code> URL as the <code class="prettyprint">callback_url</code>.</p>

<p>If you&rsquo;re just starting out and want the easiest way to set up your own callback URL, we recommend using <a href="https://ngrok.com/">ngrok</a> to expose a local server to the internet. Feel free to <a href="mailto:hello@scaleapi.com">contact us</a> if you have any trouble.</p>

<h3 id="authentication">Authentication</h3>

<p>If you&rsquo;d like to authenticate our callbacks, we set a <code class="prettyprint">scale-callback-auth</code> HTTP header on each of our callbacks. The value will be equal to your <code class="prettyprint">Live Callback Auth Key</code> shown on your dashboard. If this header is not set, or it is set incorrectly, the callback is not from Scale.</p>

<h3 id="post-data">POST Data</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">task_id</code></td>
<td>string</td>
<td>The <code class="prettyprint">task_id</code> is the unique identifier for the task.</td>
</tr>
<tr>
<td><code class="prettyprint">response</code></td>
<td>object</td>
<td>The response object of the completed request. For <code class="prettyprint">categorization</code>, it will contain a <code class="prettyprint">category</code> attribute of the assigned category.</td>
</tr>
<tr>
<td><code class="prettyprint">task</code></td>
<td>object</td>
<td>The full task object for reference and convenience.</td>
</tr>
</tbody></table>

<h1 id="task-endpoints">Task Endpoints</h1>

<h2 id="retrieve-a-task">Retrieve a Task</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.scaleapi.com/v1/task/{task_id}"</span> <span class="se">\</span>
  -u YOUR_API_KEY:
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">task_id</span> <span class="o">=</span> <span class="s">'YOUR_TASK_ID'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.scaleapi.com/v1/task/</span><span class="si">%</span><span class="s">s'</span> <span class="o">%</span> <span class="n">task_id</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s">'YOUR_API_KEY'</span><span class="p">,</span> <span class="s">''</span><span class="p">))</span>

<span class="c"># Return dictionary can be accessible in this way</span>
<span class="n">response_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">SCALE_API_KEY</span> <span class="o">=</span> <span class="s1">'YOUR_API_KEY'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">task_id</span> <span class="o">=</span> <span class="s1">'YOUR_TASK_ID'</span><span class="p">;</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'https://api.scaleapi.com/v1/task/'</span> <span class="o">+</span> <span class="nx">task_id</span> <span class="o">+</span> <span class="s1">'/'</span><span class="p">,</span> <span class="p">{</span>
  <span class="s1">'auth'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'user'</span><span class="p">:</span> <span class="nx">SCALE_API_KEY</span><span class="p">,</span>
    <span class="s1">'pass'</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'sendImmediately'</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">error</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"576ba74eec471ff9b01557cc"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-23T09:10:02.798Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-23T09:09:34.752Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.example.com/callback"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"categorization"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instruction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Would you say this item is big or small?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"urgency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"attachment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"attachment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"car"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"big"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"small"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"big"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific task.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.scaleapi.com/v1/task/{TASK_ID}</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">task_id</code></td>
<td>The task_id of the task to retrieve</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns a task if a valid identifier was provided, and returns a 404 error otherwise.</p>

<h2 id="cancel-a-task">Cancel a task</h2>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://api.scaleapi.com/v1/task/{task_id}/cancel"</span> <span class="se">\</span>
  -u YOUR_API_KEY:
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">task_id</span> <span class="o">=</span> <span class="s">'YOUR_TASK_ID'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.scaleapi.com/v1/task/</span><span class="si">%</span><span class="s">s/cancel/'</span> <span class="o">%</span> <span class="n">task_id</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s">'YOUR_API_KEY'</span><span class="p">,</span> <span class="s">''</span><span class="p">))</span>

<span class="c"># Return dictionary can be accessible in this way</span>
<span class="n">response_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">SCALE_API_KEY</span> <span class="o">=</span> <span class="s1">'YOUR_API_KEY'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">task_id</span> <span class="o">=</span> <span class="s1">'YOUR_TASK_ID'</span><span class="p">;</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'https://api.scaleapi.com/v1/task/'</span> <span class="o">+</span> <span class="nx">task_id</span> <span class="o">+</span> <span class="s1">'/cancel/'</span><span class="p">,</span> <span class="p">{</span>
  <span class="s1">'auth'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'user'</span><span class="p">:</span> <span class="nx">SCALE_API_KEY</span><span class="p">,</span>
    <span class="s1">'pass'</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'sendImmediately'</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">error</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"576ba74eec471ff9b01557cc"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-23T09:09:34.752Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.example.com/callback"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"categorization"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"canceled"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instruction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Would you say this item is big or small?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"urgency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"week"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"attachment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"attachment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"car"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"big"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"small"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint cancels a task so that it will not be completed.</p>

<p>You may only cancel pending tasks, and the endpoint will return a 500 error code if you attempt to cancel a completed task.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.scaleapi.com/v1/task/{TASK_ID}/cancel</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">task_id</code></td>
<td>The task_id of the task to cancel</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns the canceled task if a valid identifier for a pending task was provided, and returns a 404 error or 500 error otherwise.</p>

<h2 id="list-all-tasks">List All Tasks</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.scaleapi.com/v1/tasks"</span> <span class="se">\</span>
  -u YOUR_API_KEY:
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.scaleapi.com/v1/tasks/'</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s">'YOUR_API_KEY'</span><span class="p">,</span> <span class="s">''</span><span class="p">))</span>

<span class="c"># Return dictionary can be accessible in this way</span>
<span class="n">response_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">SCALE_API_KEY</span> <span class="o">=</span> <span class="s1">'YOUR_API_KEY'</span><span class="p">;</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'https://api.scaleapi.com/v1/tasks/'</span><span class="p">,</span> <span class="p">{</span>
  <span class="s1">'auth'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'user'</span><span class="p">:</span> <span class="nx">SCALE_API_KEY</span><span class="p">,</span>
    <span class="s1">'pass'</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'sendImmediately'</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">error</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-23T08:10:51.032Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.example.com/callback"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"categorization"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"instruction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Is this object big or small?"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"urgency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"immediate"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"attachment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attachment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ant"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"big"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"small"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-23T19:36:23.084Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"small"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"576b998b4628d1bfaed7d3a4"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-23T08:51:13.903Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.example.com/callback"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"categorization"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"instruction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Is this object big or small?"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"urgency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"attachment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attachment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"T-Rex"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"big"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"small"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-23T09:09:10.108Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"big"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"576ba301eed30241b0e9bbf7"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a list of your tasks.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.scaleapi.com/v1/tasks</code></p>

<h3 id="returns">Returns</h3>

<p>Returns a list of your tasks.</p>

          <h1 id="errors">Errors</h1>

<p>The Scale API uses the following HTTP codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK &ndash; Everything worked as expected.</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request &ndash; The request was unacceptable, often due to missing a required parameter.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; No valid API key provided.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The requested resource doesn&rsquo;t exist.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; Too many requests hit the API too quickly.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
